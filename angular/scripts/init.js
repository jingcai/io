var urls = "http://blog.sina.com.cn/s/blog_5f13c9960101gsn5.html,http://blog.sina.com.cn/s/blog_5f13c9960101gj36.html,http://blog.sina.com.cn/s/blog_5f13c9960101g8ma.html,http://blog.sina.com.cn/s/blog_5f13c9960101g8kv.html,http://blog.sina.com.cn/s/blog_5f13c9960101g8k2.html,http://blog.sina.com.cn/s/blog_5f13c9960101g8jc.html,http://blog.sina.com.cn/s/blog_5f13c9960101g41v.html,http://blog.sina.com.cn/s/blog_5f13c9960101fp72.html,http://blog.sina.com.cn/s/blog_5f13c9960101e0a2.html,http://blog.sina.com.cn/s/blog_5f13c9960101dk9d.html,http://blog.sina.com.cn/s/blog_5f13c9960101dgpm.html,http://blog.sina.com.cn/s/blog_5f13c9960101dfgk.html,http://blog.sina.com.cn/s/blog_5f13c9960101dfgh.html,http://blog.sina.com.cn/s/blog_5f13c9960101dfgg.html,http://blog.sina.com.cn/s/blog_5f13c9960101dfgd.html,http://blog.sina.com.cn/s/blog_5f13c9960101dd8i.html,http://blog.sina.com.cn/s/blog_5f13c9960101d4me.html,http://blog.sina.com.cn/s/blog_5f13c9960101d3vg.html,http://blog.sina.com.cn/s/blog_5f13c9960101d106.html,http://blog.sina.com.cn/s/blog_5f13c9960101d103.html,http://blog.sina.com.cn/s/blog_5f13c9960101c7tc.html,http://blog.sina.com.cn/s/blog_5f13c9960101c5m9.html,http://blog.sina.com.cn/s/blog_5f13c9960101c0fq.html,http://blog.sina.com.cn/s/blog_5f13c9960101byks.html,http://blog.sina.com.cn/s/blog_5f13c9960101bwws.html,http://blog.sina.com.cn/s/blog_5f13c9960101bvth.html,http://blog.sina.com.cn/s/blog_5f13c9960101bv6w.html,http://blog.sina.com.cn/s/blog_5f13c9960101bush.html,http://blog.sina.com.cn/s/blog_5f13c9960101bu9h.html,http://blog.sina.com.cn/s/blog_5f13c9960101bnyc.html,http://blog.sina.com.cn/s/blog_5f13c9960101bm7t.html,http://blog.sina.com.cn/s/blog_5f13c9960101blvb.html,http://blog.sina.com.cn/s/blog_5f13c9960101blt7.html,http://blog.sina.com.cn/s/blog_5f13c9960101bkhc.html,http://blog.sina.com.cn/s/blog_5f13c9960101bk6y.html,http://blog.sina.com.cn/s/blog_5f13c9960101bk3c.html,http://blog.sina.com.cn/s/blog_5f13c9960101bjzi.html,http://blog.sina.com.cn/s/blog_5f13c9960101bjze.html,http://blog.sina.com.cn/s/blog_5f13c9960101bjz2.html,http://blog.sina.com.cn/s/blog_5f13c9960101b2sc.html,http://blog.sina.com.cn/s/blog_5f13c9960101asbo.html,http://blog.sina.com.cn/s/blog_5f13c9960101aqv8.html,http://blog.sina.com.cn/s/blog_5f13c9960101ap6v.html,http://blog.sina.com.cn/s/blog_5f13c9960101afzp.html,http://blog.sina.com.cn/s/blog_5f13c9960101acr7.html,http://blog.sina.com.cn/s/blog_5f13c9960101a2ys.html,http://blog.sina.com.cn/s/blog_5f13c9960101a2xp.html,http://blog.sina.com.cn/s/blog_5f13c99601019meo.html,http://blog.sina.com.cn/s/blog_5f13c996010195id.html,http://blog.sina.com.cn/s/blog_5f13c996010192xz.html,http://blog.sina.com.cn/s/blog_4b0f52990102e0wj.html,http://blog.sina.com.cn/s/blog_5f13c996010191vx.html,http://blog.sina.com.cn/s/blog_5f13c99601018rno.html,http://blog.sina.com.cn/s/blog_5f13c99601018qey.html,http://blog.sina.com.cn/s/blog_5f13c99601018otw.html,http://blog.sina.com.cn/s/blog_5f13c99601018oja.html,http://blog.sina.com.cn/s/blog_5f13c99601018nd8.html,http://blog.sina.com.cn/s/blog_5f13c99601018hgn.html,http://blog.sina.com.cn/s/blog_5f13c99601018boh.html,http://blog.sina.com.cn/s/blog_5f13c996010187bu.html,http://blog.sina.com.cn/s/blog_5f13c99601017w7p.html,http://blog.sina.com.cn/s/blog_5f13c99601017k8z.html,http://blog.sina.com.cn/s/blog_5f13c99601017e40.html,http://blog.sina.com.cn/s/blog_5f13c99601017bga.html,http://blog.sina.com.cn/s/blog_5f13c99601017afd.html,http://blog.sina.com.cn/s/blog_5f13c996010173i8.html,http://blog.sina.com.cn/s/blog_5f13c99601017252.html,http://blog.sina.com.cn/s/blog_5f13c996010171j7.html,http://blog.sina.com.cn/s/blog_5f13c99601016wv7.html,http://blog.sina.com.cn/s/blog_5f13c99601016hol.html,http://blog.sina.com.cn/s/blog_5f13c99601016hcq.html,http://blog.sina.com.cn/s/blog_5f13c99601016fzr.html,http://blog.sina.com.cn/s/blog_5f13c996010167hj.html,http://blog.sina.com.cn/s/blog_5f13c996010165go.html,http://blog.sina.com.cn/s/blog_5f13c996010163x7.html,http://blog.sina.com.cn/s/blog_5f13c99601015yy5.html,http://blog.sina.com.cn/s/blog_5f13c99601015vsc.html,http://blog.sina.com.cn/s/blog_5f13c99601015v11.html,http://blog.sina.com.cn/s/blog_5f13c99601015s9b.html,http://blog.sina.com.cn/s/blog_5f13c99601015qrr.html,http://blog.sina.com.cn/s/blog_5f13c99601015p38.html,http://blog.sina.com.cn/s/blog_5f13c99601015ofu.html,http://blog.sina.com.cn/s/blog_5f13c99601015nz1.html,http://blog.sina.com.cn/s/blog_5f13c99601015lfo.html,http://blog.sina.com.cn/s/blog_5f13c99601015jvl.html,http://blog.sina.com.cn/s/blog_5f13c99601015id0.html,http://blog.sina.com.cn/s/blog_5f13c996010158zs.html,http://blog.sina.com.cn/s/blog_5f13c996010157so.html,http://blog.sina.com.cn/s/blog_5f13c996010153fo.html,http://blog.sina.com.cn/s/blog_5f13c99601014xdy.html,http://blog.sina.com.cn/s/blog_5f13c99601014nb3.html,http://blog.sina.com.cn/s/blog_5f13c99601014hxb.html,http://blog.sina.com.cn/s/blog_5f13c996010149wz.html,http://blog.sina.com.cn/s/blog_5f13c996010147js.html,http://blog.sina.com.cn/s/blog_5f13c996010144w4.html,http://blog.sina.com.cn/s/blog_5f13c9960101437l.html,http://blog.sina.com.cn/s/blog_5f13c996010141uw.html,http://blog.sina.com.cn/s/blog_5f13c996010141oh.html,http://blog.sina.com.cn/s/blog_5f13c99601013zv0.html,http://blog.sina.com.cn/s/blog_5f13c99601013xbo.html,http://blog.sina.com.cn/s/blog_5f13c99601013vi9.html,http://blog.sina.com.cn/s/blog_5f13c9960100qsse.html,http://blog.sina.com.cn/s/blog_5f13c9960100qed6.html,http://blog.sina.com.cn/s/blog_5f13c9960100q1yj.html,http://blog.sina.com.cn/s/blog_5f13c9960100hapm.html,http://blog.sina.com.cn/s/blog_5f13c9960100w9j5.html,http://blog.sina.com.cn/s/blog_5f13c9960100w9ii.html,http://blog.sina.com.cn/s/blog_5f13c9960100w9di.html,http://blog.sina.com.cn/s/blog_5f13c9960100w9dg.html,http://blog.sina.com.cn/s/blog_5f13c9960100w4rt.html,http://blog.sina.com.cn/s/blog_5f13c9960100w4gs.html,http://blog.sina.com.cn/s/blog_5f13c9960100w348.html,http://blog.sina.com.cn/s/blog_5f13c9960100vzj8.html,http://blog.sina.com.cn/s/blog_5f13c9960100vzhl.html,http://blog.sina.com.cn/s/blog_5f13c9960100vzh2.html,http://blog.sina.com.cn/s/blog_5f13c9960100vun4.html,http://blog.sina.com.cn/s/blog_5f13c9960100vrx9.html,http://blog.sina.com.cn/s/blog_5f13c9960100vogh.html,http://blog.sina.com.cn/s/blog_5f13c9960100vmsc.html,http://blog.sina.com.cn/s/blog_5f13c9960100vgh2.html,http://blog.sina.com.cn/s/blog_5f13c9960100vaoq.html,http://blog.sina.com.cn/s/blog_5f13c9960100v0kx.html,http://blog.sina.com.cn/s/blog_5f13c9960100uz8f.html,http://blog.sina.com.cn/s/blog_5f13c9960100uz4n.html,http://blog.sina.com.cn/s/blog_5f13c9960100uuzs.html,http://blog.sina.com.cn/s/blog_5f13c9960100ucto.html,http://blog.sina.com.cn/s/blog_5f13c9960100uc4h.html,http://blog.sina.com.cn/s/blog_5f13c9960100uc0i.html,http://blog.sina.com.cn/s/blog_5f13c9960100u9k5.html,http://blog.sina.com.cn/s/blog_5f13c9960100u7n6.html,http://blog.sina.com.cn/s/blog_5f13c9960100u7mk.html,http://blog.sina.com.cn/s/blog_5f13c9960100u7mi.html,http://blog.sina.com.cn/s/blog_5f13c9960100u7ez.html,http://blog.sina.com.cn/s/blog_5f13c9960100u7e8.html,http://blog.sina.com.cn/s/blog_5f13c9960100u695.html,http://blog.sina.com.cn/s/blog_5f13c9960100u49j.html,http://blog.sina.com.cn/s/blog_5f13c9960100u0sy.html,http://blog.sina.com.cn/s/blog_5f13c9960100u0sd.html,http://blog.sina.com.cn/s/blog_5f13c9960100tx0q.html,http://blog.sina.com.cn/s/blog_5f13c9960100tvz7.html,http://blog.sina.com.cn/s/blog_5f13c9960100ture.html,http://blog.sina.com.cn/s/blog_5f13c9960100tsph.html,http://blog.sina.com.cn/s/blog_5f13c9960100th4z.html,http://blog.sina.com.cn/s/blog_5f13c9960100su7r.html,http://blog.sina.com.cn/s/blog_5f13c9960100std6.html,http://blog.sina.com.cn/s/blog_5f13c9960100skyw.html,http://blog.sina.com.cn/s/blog_5f13c9960100s95n.html,http://blog.sina.com.cn/s/blog_5f13c9960100s41q.html,http://blog.sina.com.cn/s/blog_5f13c9960100s2nd.html,http://blog.sina.com.cn/s/blog_5f13c9960100s1hl.html,http://blog.sina.com.cn/s/blog_5f13c9960100rsjz.html,http://blog.sina.com.cn/s/blog_5f13c9960100rr9i.html,http://blog.sina.com.cn/s/blog_5f13c9960100rqir.html,http://blog.sina.com.cn/s/blog_5f13c9960100ro3s.html,http://blog.sina.com.cn/s/blog_5f13c9960100ri5y.html,http://blog.sina.com.cn/s/blog_5f13c9960100ygaa.html,http://blog.sina.com.cn/s/blog_5f13c9960100ye6q.html,http://blog.sina.com.cn/s/blog_5f13c9960100ydp5.html,http://blog.sina.com.cn/s/blog_5f13c9960100ydnp.html,http://blog.sina.com.cn/s/blog_5f13c9960100yd28.html,http://blog.sina.com.cn/s/blog_5f13c9960100ya9u.html,http://blog.sina.com.cn/s/blog_5f13c9960100ya59.html,http://blog.sina.com.cn/s/blog_5f13c9960100y5sl.html,http://blog.sina.com.cn/s/blog_5f13c9960100y5rt.html,http://blog.sina.com.cn/s/blog_5f13c9960100y468.html,http://blog.sina.com.cn/s/blog_5f13c9960100y3go.html,http://blog.sina.com.cn/s/blog_5f13c9960100y0dd.html,http://blog.sina.com.cn/s/blog_5f13c9960100y00z.html,http://blog.sina.com.cn/s/blog_5f13c9960100xzsj.html,http://blog.sina.com.cn/s/blog_5f13c9960100xy5h.html,http://blog.sina.com.cn/s/blog_5f13c9960100xxft.html,http://blog.sina.com.cn/s/blog_5f13c9960100xx1b.html,http://blog.sina.com.cn/s/blog_5f13c9960100xwb5.html,http://blog.sina.com.cn/s/blog_5f13c9960100xvk3.html,http://blog.sina.com.cn/s/blog_5f13c9960100xv67.html,http://blog.sina.com.cn/s/blog_5f13c9960100xulo.html,http://blog.sina.com.cn/s/blog_5f13c9960100xub0.html,http://blog.sina.com.cn/s/blog_5f13c9960100xt9r.html,http://blog.sina.com.cn/s/blog_5f13c9960100xsd0.html,http://blog.sina.com.cn/s/blog_5f13c9960100xsc9.html,http://blog.sina.com.cn/s/blog_5f13c9960100xruu.html,http://blog.sina.com.cn/s/blog_5f13c9960100xrtw.html,http://blog.sina.com.cn/s/blog_5f13c9960100xrs8.html,http://blog.sina.com.cn/s/blog_5f13c9960100xrkj.html,http://blog.sina.com.cn/s/blog_5f13c9960100xqy1.html,http://blog.sina.com.cn/s/blog_5f13c9960100xqby.html,http://blog.sina.com.cn/s/blog_5f13c9960100xmn3.html,http://blog.sina.com.cn/s/blog_5f13c9960100xlg5.html,http://blog.sina.com.cn/s/blog_5f13c9960100xf1h.html,http://blog.sina.com.cn/s/blog_5f13c9960100xcb9.html,http://blog.sina.com.cn/s/blog_5f13c9960100xbde.html,http://blog.sina.com.cn/s/blog_5f13c9960100xafw.html,http://blog.sina.com.cn/s/blog_5f13c9960100x8s7.html,http://blog.sina.com.cn/s/blog_5f13c9960100x8kd.html,http://blog.sina.com.cn/s/blog_5f13c9960100x6xw.html,http://blog.sina.com.cn/s/blog_5f13c9960100x66w.html,http://blog.sina.com.cn/s/blog_5f13c9960100x4kx.html,http://blog.sina.com.cn/s/blog_5f13c9960100x45a.html,http://blog.sina.com.cn/s/blog_5f13c9960100wqz1.html,http://blog.sina.com.cn/s/blog_5f13c9960100wqyq.html,http://blog.sina.com.cn/s/blog_5f13c9960100wl0e.html,http://blog.sina.com.cn/s/blog_5f13c9960100wkym.html,http://blog.sina.com.cn/s/blog_5f13c9960100wd2e.html,http://blog.sina.com.cn/s/blog_5f13c9960100wcvn.html,http://blog.sina.com.cn/s/blog_5f13c9960100wc8w.html,http://blog.sina.com.cn/s/blog_5f13c99601013v3i.html,http://blog.sina.com.cn/s/blog_5f13c99601013s9x.html,http://blog.sina.com.cn/s/blog_5f13c99601013rl8.html,http://blog.sina.com.cn/s/blog_5f13c99601013rch.html,http://blog.sina.com.cn/s/blog_5f13c99601013qva.html,http://blog.sina.com.cn/s/blog_5f13c99601013pgy.html,http://blog.sina.com.cn/s/blog_5f13c99601013p44.html,http://blog.sina.com.cn/s/blog_5f13c99601013kmn.html,http://blog.sina.com.cn/s/blog_5f13c99601013j9k.html,http://blog.sina.com.cn/s/blog_5f13c99601013j7o.html,http://blog.sina.com.cn/s/blog_5f13c99601013fw9.html,http://blog.sina.com.cn/s/blog_5f13c99601013dly.html,http://blog.sina.com.cn/s/blog_5f13c99601013dc4.html,http://blog.sina.com.cn/s/blog_5f13c996010139qh.html,http://blog.sina.com.cn/s/blog_5f13c9960101384m.html,http://blog.sina.com.cn/s/blog_5f13c996010136uy.html,http://blog.sina.com.cn/s/blog_5f13c9960101344d.html,http://blog.sina.com.cn/s/blog_5f13c996010133js.html,http://blog.sina.com.cn/s/blog_5f13c996010132sx.html,http://blog.sina.com.cn/s/blog_5f13c996010132bd.html,http://blog.sina.com.cn/s/blog_5f13c99601013227.html,http://blog.sina.com.cn/s/blog_5f13c996010131p7.html,http://blog.sina.com.cn/s/blog_5f13c996010130df.html,http://blog.sina.com.cn/s/blog_5f13c99601012yue.html,http://blog.sina.com.cn/s/blog_5f13c99601012x6q.html,http://blog.sina.com.cn/s/blog_5f13c99601012wkv.html,http://blog.sina.com.cn/s/blog_5f13c99601012w9y.html,http://blog.sina.com.cn/s/blog_5f13c99601012vly.html,http://blog.sina.com.cn/s/blog_5f13c99601012sr8.html,http://blog.sina.com.cn/s/blog_5f13c99601012sgu.html,http://blog.sina.com.cn/s/blog_5f13c99601012sg5.html,http://blog.sina.com.cn/s/blog_5f13c99601012s9l.html,http://blog.sina.com.cn/s/blog_5f13c99601012rw3.html,http://blog.sina.com.cn/s/blog_5f13c99601012rub.html,http://blog.sina.com.cn/s/blog_5f13c99601012q9x.html,http://blog.sina.com.cn/s/blog_5f13c99601012q90.html,http://blog.sina.com.cn/s/blog_5f13c99601012opt.html,http://blog.sina.com.cn/s/blog_5f13c99601012o9m.html,http://blog.sina.com.cn/s/blog_5f13c99601012n7t.html,http://blog.sina.com.cn/s/blog_5f13c99601012mxv.html,http://blog.sina.com.cn/s/blog_5f13c99601012muv.html,http://blog.sina.com.cn/s/blog_5f13c99601012k11.html,http://blog.sina.com.cn/s/blog_5f13c99601012j2u.html,http://blog.sina.com.cn/s/blog_5f13c99601012iwm.html,http://blog.sina.com.cn/s/blog_5f13c99601012fl8.html,http://blog.sina.com.cn/s/blog_5f13c99601012f1a.html,http://blog.sina.com.cn/s/blog_5f13c99601012dek.html,http://blog.sina.com.cn/s/blog_5f13c99601012cvj.html,http://blog.sina.com.cn/s/blog_5f13c99601012bep.html,http://blog.sina.com.cn/s/blog_5f13c99601012aa8.html,http://blog.sina.com.cn/s/blog_5f13c996010129y3.html,http://blog.sina.com.cn/s/blog_5f13c9960101271x.html,http://blog.sina.com.cn/s/blog_5f13c996010126it.html,http://blog.sina.com.cn/s/blog_5f13c996010126gq.html,http://blog.sina.com.cn/s/blog_5f13c9960101260v.html,http://blog.sina.com.cn/s/blog_5f13c99601012493.html,http://blog.sina.com.cn/s/blog_5f13c996010121v0.html,http://blog.sina.com.cn/s/blog_5f13c996010121sr.html,http://blog.sina.com.cn/s/blog_5f13c9960101212g.html,http://blog.sina.com.cn/s/blog_5f13c9960101201m.html,http://blog.sina.com.cn/s/blog_5f13c99601011x90.html,http://blog.sina.com.cn/s/blog_5f13c99601011rcu.html,http://blog.sina.com.cn/s/blog_5f13c99601011r24.html,http://blog.sina.com.cn/s/blog_5f13c99601011qid.html,http://blog.sina.com.cn/s/blog_5f13c99601011qen.html,http://blog.sina.com.cn/s/blog_5f13c99601011nzy.html,http://blog.sina.com.cn/s/blog_5f13c99601011l9o.html,http://blog.sina.com.cn/s/blog_5f13c99601011kib.html,http://blog.sina.com.cn/s/blog_5f13c99601011hu4.html,http://blog.sina.com.cn/s/blog_5f13c99601011gxl.html,http://blog.sina.com.cn/s/blog_5f13c99601011ds2.html,http://blog.sina.com.cn/s/blog_5f13c99601011aio.html,http://blog.sina.com.cn/s/blog_5f13c996010118yq.html,http://blog.sina.com.cn/s/blog_5f13c996010115nl.html,http://blog.sina.com.cn/s/blog_5f13c996010115dy.html,http://blog.sina.com.cn/s/blog_5f13c9960101130v.html,http://blog.sina.com.cn/s/blog_5f13c996010112tu.html,http://blog.sina.com.cn/s/blog_5f13c996010112t6.html,http://blog.sina.com.cn/s/blog_5f13c99601010vl6.html,http://blog.sina.com.cn/s/blog_5f13c99601010v73.html,http://blog.sina.com.cn/s/blog_5f13c99601010v68.html,http://blog.sina.com.cn/s/blog_5f13c99601010v5t.html,http://blog.sina.com.cn/s/blog_5f13c99601010v4x.html,http://blog.sina.com.cn/s/blog_5f13c99601010v4h.html,http://blog.sina.com.cn/s/blog_5f13c99601010v3v.html,http://blog.sina.com.cn/s/blog_5f13c99601010v35.html,http://blog.sina.com.cn/s/blog_5f13c99601010v2f.html,http://blog.sina.com.cn/s/blog_5f13c99601010v22.html,http://blog.sina.com.cn/s/blog_5f13c99601010spl.html,http://blog.sina.com.cn/s/blog_5f13c99601010rw7.html,http://blog.sina.com.cn/s/blog_5f13c99601010r2q.html,http://blog.sina.com.cn/s/blog_5f13c99601010qnl.html,http://blog.sina.com.cn/s/blog_5f13c99601010otc.html,http://blog.sina.com.cn/s/blog_5f13c99601010odz.html,http://blog.sina.com.cn/s/blog_5f13c99601010nfa.html,http://blog.sina.com.cn/s/blog_5f13c99601010jim.html,http://blog.sina.com.cn/s/blog_5f13c99601010iwo.html,http://blog.sina.com.cn/s/blog_5f13c99601010hmq.html,http://blog.sina.com.cn/s/blog_5f13c99601010ewq.html,http://blog.sina.com.cn/s/blog_5f13c99601010e7q.html,http://blog.sina.com.cn/s/blog_5f13c99601010ci7.html,http://blog.sina.com.cn/s/blog_5f13c996010106pw.html,http://blog.sina.com.cn/s/blog_5f13c996010106fy.html,http://blog.sina.com.cn/s/blog_5f13c99601010695.html,http://blog.sina.com.cn/s/blog_5f13c996010105j8.html,http://blog.sina.com.cn/s/blog_5f13c9960101049w.html,http://blog.sina.com.cn/s/blog_5f13c996010103ze.html,http://blog.sina.com.cn/s/blog_5f13c996010102vw.html,http://blog.sina.com.cn/s/blog_5f13c9960101010w.html,http://blog.sina.com.cn/s/blog_5f13c9960100zz4o.html,http://blog.sina.com.cn/s/blog_5f13c9960100zydj.html,http://blog.sina.com.cn/s/blog_5f13c9960100zw4f.html,http://blog.sina.com.cn/s/blog_5f13c9960100zvfw.html,http://blog.sina.com.cn/s/blog_5f13c9960100zvf6.html,http://blog.sina.com.cn/s/blog_5f13c9960100ztma.html,http://blog.sina.com.cn/s/blog_5f13c9960100zt8i.html,http://blog.sina.com.cn/s/blog_5f13c9960100zqhn.html,http://blog.sina.com.cn/s/blog_5f13c9960100znmi.html,http://blog.sina.com.cn/s/blog_5f13c9960100zmoi.html,http://blog.sina.com.cn/s/blog_5f13c9960100zjzs.html,http://blog.sina.com.cn/s/blog_5f13c9960100zf7z.html,http://blog.sina.com.cn/s/blog_5f13c9960100zcsg.html,http://blog.sina.com.cn/s/blog_5f13c9960100zb9m.html,http://blog.sina.com.cn/s/blog_5f13c9960100z9j3.html,http://blog.sina.com.cn/s/blog_5f13c9960100z9b2.html,http://blog.sina.com.cn/s/blog_5f13c9960100z8qx.html,http://blog.sina.com.cn/s/blog_5f13c9960100z787.html,http://blog.sina.com.cn/s/blog_5f13c9960100z5gg.html,http://blog.sina.com.cn/s/blog_5f13c9960100z3bn.html,http://blog.sina.com.cn/s/blog_5f13c9960100z2rh.html,http://blog.sina.com.cn/s/blog_5f13c9960100yzpe.html,http://blog.sina.com.cn/s/blog_5f13c9960100yybb.html,http://blog.sina.com.cn/s/blog_5f13c9960100yw2r.html,http://blog.sina.com.cn/s/blog_5f13c9960100yv53.html,http://blog.sina.com.cn/s/blog_5f13c9960100yu6m.html,http://blog.sina.com.cn/s/blog_5f13c9960100ys0b.html,http://blog.sina.com.cn/s/blog_5f13c9960100yrc1.html,http://blog.sina.com.cn/s/blog_5f13c9960100yqwz.html,http://blog.sina.com.cn/s/blog_5f13c9960100yqp6.html,http://blog.sina.com.cn/s/blog_5f13c9960100yqck.html,http://blog.sina.com.cn/s/blog_5f13c9960100yq3t.html,http://blog.sina.com.cn/s/blog_5f13c9960100yq1p.html,http://blog.sina.com.cn/s/blog_5f13c9960100ypgj.html,http://blog.sina.com.cn/s/blog_5f13c9960100yo54.html,http://blog.sina.com.cn/s/blog_5f13c9960100ynuz.html,http://blog.sina.com.cn/s/blog_5f13c9960100ymdj.html,http://blog.sina.com.cn/s/blog_5f13c9960100yle8.html,http://blog.sina.com.cn/s/blog_5f13c9960100yklm.html,http://blog.sina.com.cn/s/blog_5f13c9960100yhmd.html,http://blog.sina.com.cn/s/blog_5f13c9960100yghb.html";
// console.log(urls.split(',').length);
// var fs = require('fs');
// fs.readFile('./urls.html', function (err, data) {
//   if (err) throw err;
//   var all=data+'';
//   all.replace(/http:\/\/blog.sina.com.cn\/s\/blog_[^"]*html"/g,function(w){console.log(w);return w;})
// });


var dbname = "gaga"

var http = require('http');
var r = require('rethinkdb');
// r.connect({host:'localhost', port:28015, db:'dong'},
//           function(err, conn) {  });
var connection = null;
var start = 0;
var liststart = 0;
var allurls = urls.split(',');
var createDB = function() {
    r.connect({
        host: 'localhost',
        port: 28015
    }, function(err, conn) {
        //读取原始信息  pluck('blog')
        r.dbCreate(dbname).run(conn, function(err, c) {
            r.db(dbname).tableCreate('sinablog').run(conn, function(err, cursor) {
                console.log("sinablog");
            });
            r.db(dbname).tableCreate('sinabloglist').run(conn, function(err, cursor) {
                console.log("sinabloglist");
            });
            r.db(dbname).tableCreate('sinaOriginal').run(conn, function(err, cursor) {
                console.log("sinaOriginal");
            });

        });

    });
}


var getSinablogList = function() {
    var url = 'http://blog.sina.com.cn/s/articlelist_1595132310_0_1.html'
    getArticle(url, saveBlogList);
};


var step4 = function() {
    r.connect({
        host: 'localhost',
        port: 28015,
        db: dbname
    }, function(err, conn) {
        if (err) throw err;
        connection = conn;


        //解析原始信息，创建新表
        var jiexi = function(results) {
            for (var i in results) {

                var blogcontent = results[i]['blog'];
                // console.log(blogcontent);
                var l1 = blogcontent.split('<!-- 正文开始 -->');
                var title = l1[0].split('titName SG_txta">')[1].split("</h2>")[0]
                console.log(title);
                var blogtime = l1[0].split('time SG_txtc">')[1].split("</span>")[0];
                // console.log(blogtime);
                var blog_class = l1[0].split('blog_class')[1].split('.html">')[1].split("</a>")[0];
                // console.log(blog_class);
                if (l1[1]) {
                    blogcontent = l1[1].split('<!-- 正文结束 -->')[0];
                } else {
                	continue;
                }

                // console.log(blogcontent);

                var blogModel = {
                    content: blogcontent,
                    title: title,
                    url: results[i]['url'],
                    blogtime: blogtime,
                    blog_class: blog_class
                };
                savesinamodel(blogModel);
            }
        }


        r.table("sinaOriginal").run(connection, function(err, cursor) {
            if (err) throw err;
            cursor.toArray(function(err, result) {
                if (err) throw err;
                //console.log(JSON.stringify(result[0]['blog'], null, 2));
                //创建新表
                jiexi(result)
            });
        });


        //模板中加入音乐，视频

        //读取所有图片

        //最终会面临如何将这些交给他们的问题，做一个简单的srud的工作东西，或者将已有的管理界面弄过来


        //初始化原始数据库
        //getArticle(allurls[start],savesina);

    })
}

var saveBlogList = function(url, blog) {
    r.db(dbname).table("sinabloglist").insert({
        url: url,
        blog: blog
    }).run(connection, function(err, result) {
        if (err) throw err;
        console.log(JSON.stringify(result, null, 2));
        liststart++;
        var url = 'http://blog.sina.com.cn/s/articlelist_1595132310_0_' + liststart + '.html'
        if (liststart < 17) setTimeout(getArticle(allurls[liststart], saveBlogList), 300);

    });
}

var savesina = function(url, blog) {
    r.db(dbname).table("sinaOriginal").insert({
        url: url,
        blog: blog
    }).run(connection, function(err, result) {
        if (err) throw err;
        console.log(JSON.stringify(result, null, 2));
        start++;

        if (start < allurls.length) setTimeout(getArticle(allurls[start], savesina), 300);

    });
}
var savesinamodel = function(blogmodel) {

    r.db(dbname).table("sinablog").insert(blogmodel).run(connection, function(err, result) {
        if (err) throw err;
        console.log(JSON.stringify(result, null, 2));
    });
}

var getArticle = function(url, callback) {
    http.get(url, function(res) {
        console.log("Got response: " + res.statusCode);
        var all = ''
        res.on('data', function(d) {
            all = all + d;
        })
        res.on('end', function() {
            //console.log(all)	
            callback(url, all);
        })

    }).on('error', function(e) {
        console.log("Got error: " + e.message);
    });
}


//1  创建数据库
//2  更新博客列表，原始文章  sinabloglist
//3  提取原始列表中的文章列表,得到一个大的文章url列表，下载原始文章信息 sinaOriginal
//4  解析原始数据 sinablog

// createDB() //1
r.connect({
    host: 'localhost',
    port: 28015,
    db: dbname
}, function(err, conn) {
    if (err) throw err;
    connection = conn;
    // getSinablogList() ;//2 

    var step3 = function() {
        r.table("sinabloglist").run(connection, function(err, cursor) {
            if (err) throw err;
            cursor.toArray(function(err, result) {
                if (err) throw err;
                var allurls = [];

                for (var i = result.length - 1; i >= 0; i--) {
                    result[i].blog.replace(/http:\/\/blog.sina.com.cn\/s\/blog_[^"]*html"/g, function(w) {
                        allurls.push(w.split('"')[0]);
                        return w;
                    })
                };
                console.log(allurls);
                getArticle(allurls[start], savesina); //3	


            });

        });

    }
    // step3();
    // step4()

})



//sumary title time fenlei biaoqian neirong <!-- 正文开始 -->  <!-- 正文结束 -->